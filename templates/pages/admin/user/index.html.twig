{% extends 'themes/base_admin.html.twig' %}

{% block title %}
	- Admin - Liste des Utilisateurs
{% endblock %}

{% block main %}
	<h1 class="my-3 display-5 text-center">Liste des Utilisateurs</h1>

	<div class="table-responsive">
		<table class="table table-striped table-bordered table-hover">
			<thead class="table-dark">
				<tr>
					<th>Id</th>
					<th>Prénom</th>
					<th>Nom</th>
					<th>Email</th>
					<th>Compte Vérifié ? :
					</th>
					<th>Roles</th>
					<th>Adresse</th>
					<th>Ville</th>
					<th>Code Postal</th>
					<th>Créer le :
					</th>
					<th>Modifié le :</th>
					<th>Verifié le :</th>
					<th>Options :</th>
				</tr>
			</thead>
			<tbody>
				{% for user in users %}
					<tr>
						<td>{{user.id}}</td>
						<td>{{user.firstName}}</td>
						<td>{{user.lastName}}</td>
						<td>{{user.email}}</td>
						<td>{{user.isVerified ? 'Oui' : "Pas Encore"}}</td>
						<td>
							{% for role in user.roles %}
								{% if "ROLE_SUPER_ADMIN" == role %}
									<span class="badge rounded-pill text-bg-primary">{{role}}</span>
								{% elseif "ROLE_ADMIN" == role %}
									<span class="badge rounded-pill text-bg-info">{{role}}</span>
								{% elseif "ROLE_USER" == role %}
									<span class="badge rounded-pill text-bg-success">{{role}}</span>
								{% endif %}
							{% endfor %}
						</td>
						<td>{{user.address}}</td>
						<td>{{user.town}}</td>
						<td>{{user.zipCode}}</td>
						<td>{{user.createdAt|date('d-m-Y H:i:s')}}</td>
						<td>{{user.updatedAt|date('d-m-Y H:i:s')}}</td>
						<td>
							{% if user.isVerified is not empty %}
								<span>{{user.verifiedAt|date('d-m-Y H:i:s')}}</span>
							{% else %}
								<span>
									<p>Pas Encore Verifié</p>
								</span>
							{% endif %}
						</td>

						<td>
							<a href="" title="Modifier rôle">
								<i class="fa-solid fa-user-pen"></i>
							</a>
							<a href="" title="Supprimer l'utilisateur">
								<i class="fa-solid fa-user-minus"></i>
							</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}
