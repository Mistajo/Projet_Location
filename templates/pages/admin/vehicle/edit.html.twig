{% extends 'themes/base_admin.html.twig' %}

{% block title %}
	- Admin - Modification du Vehicule :
	{{vehicle.name}}
{% endblock %}

{% block tinyMCE %}
	<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
	<script>
		tinymce.init({selector: 'textarea#vehicle_form_description'});
	</script>
{% endblock %}


{% block main %}
	<h1 class="text-center my-3 display-5">Modification du Vehicule :
		{{vehicle.name}}</h1>

	<div class="container mt-5">
		<div class="col-md-6 mx-auto">
			{{ form_start(form) }}
			<div class="row">
				<div class="col-md-6">
					<div class="mb-3">
						<label for="">Nom :
						</label>
						<div class="text-danger">{{ form_errors(form.name) }}</div>
						{{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
				<div class="col-md-6">
					<div class="mb-3">
						<label for="">Marque :
						</label>
						<div class="text-danger">{{ form_errors(form.brand) }}</div>
						{{ form_widget(form.brand, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="mb-3">
						<label for="">Modele :
						</label>
						<div class="text-danger">{{ form_errors(form.model) }}</div>
						{{ form_widget(form.model, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
				<div class="col-md-6">
					<div class="mb-3">
						<label for="">Immatriculation :
						</label>
						<div class="text-danger">{{ form_errors(form.registration) }}</div>
						{{ form_widget(form.registration, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="">Agence :
				</label>
				<div class="text-danger">{{ form_errors(form.agency) }}</div>
				{{ form_widget(form.agency, {'attr': {'class': 'form-control'}}) }}
			</div>

			<div class="row mb-3">
				<div class="col-md-6">
					<label for="">Image :
					</label>
					<div class="text-danger">{{ form_errors(form.imageFile) }}</div>
					{{form_widget(form.imageFile, {'attr': {'class': 'form-control'}})}}
				</div>
				<div class="col-md-6">
					{% if vehicle.image %}
						<img src="{{ vich_uploader_asset(vehicle, 'imageFile') | imagine_filter('admin_vehicle_thumbnail')}}" alt="{{ vehicle.name }}">
					{% else %}
						<img src="{{asset('images/vehicles/no_image.jpg') | imagine_filter('admin_vehicle_thumbnail')}}" alt="{{ vehicle.name}}">
					{% endif %}

				</div>
			</div>
			<div class="mb-3">
				<label for="">
					/jour :
				</label>
				<div class="text-danger">{{ form_errors(form.dailyPrice) }}</div>
				{{ form_widget(form.dailyPrice, {'attr': {'class': 'form-control'}}) }}
			</div>

			<div class="mb-3">
				<label for="">Description :
				</label>
				<div class="text-danger">{{ form_errors(form.description) }}</div>
				{{form_widget(form.description, {'attr': {'class': 'form-control', 'rows': 10}})}}
			</div>
			<div class="mb-3">
				<div class="mb-3">
					<input formnovalidate type="submit" class="btn btn-secondary" value="Sauvegarder">
				</div>
				{{ form_end(form) }}
			</div>
		</div>
	</div>
{% endblock %}
